jQuery(document).ready((function(e){!function(){if(null===document.querySelector(".eae-wrap"))return;const t=document.querySelector("#eae-select-all"),a=document.querySelectorAll(".eae-module-action"),n=document.querySelector("#eae-apply"),l=document.querySelector("#save-config");document.querySelectorAll(".eae-tabs .eae-title a").forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll(".eae-tabs .eae-title"),a=e.target.dataset.tabid;t.forEach(e=>e.classList.remove("active")),e.target.parentElement.classList.add("active"),document.querySelectorAll(".eae-tab-content").forEach(e=>e.classList.remove("active")),document.querySelector("#"+a).classList.add("active")}))}),t.addEventListener("change",(function(e){const t=document.querySelectorAll(".eae-module-item");this.checked?t.forEach((function(e){e.checked=!0})):t.forEach((function(e){e.checked=!1}))})),a.forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault();const a=t.target,n=a.dataset.moduleid,l=a.dataset.action;let c={};c[n]=l,a.classList.add("updating"),e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_elements_save",moduleData:c},success:function(e){const t=e.modules;for(module in t)if(t.hasOwnProperty(module)){let e=t[module],a=document.querySelector(`[data-moduleid='${module}']`);if(null===a)continue;"false"==e?(a.textContent="Activate",a.dataset.action="activate",a.parentElement.parentElement.classList.remove("eae-enabled"),a.parentElement.parentElement.classList.add("eae-disabled")):(a.textContent="Deactivate",a.dataset.action="deactivate",a.parentElement.parentElement.classList.add("eae-enabled"),a.parentElement.parentElement.classList.remove("eae-disabled")),a.classList.remove("updating"),moduleCBs=document.querySelectorAll(".eae-module-item"),moduleCBs.forEach(e=>e.checked=!1)}}})}))})),n.addEventListener("click",(function(t){const a=document.querySelector('[name="eae-bulk-action"]').value,n={};""!==a?(modules=document.querySelectorAll(".eae-module-item"),modules.forEach((function(e){e.checked&&(n[e.value]=a,e.nextSibling.nextSibling.children[0].hasAttribute("data-moduleid")&&e.nextSibling.nextSibling.children[0].classList.add("updating"))})),0!==Object.keys(n).length?e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_elements_save",moduleData:n},success:function(e){const t=e.modules;for(module in t)if(t.hasOwnProperty(module)){const e=t[module],a=document.querySelector(`[data-moduleid='${module}']`);if(null===a)continue;"false"===e?(a.textContent="Activate",a.dataset.action="activate",a.parentElement.parentElement.classList.remove("eae-enabled"),a.parentElement.parentElement.classList.add("eae-disabled")):(a.textContent="Deactivate",a.dataset.action="deactivate",a.parentElement.parentElement.classList.remove("eae-disabled"),a.parentElement.parentElement.classList.add("eae-enabled")),a.classList.remove("updating"),moduleCBs=document.querySelectorAll(".eae-module-item"),moduleCBs.forEach(e=>e.checked=!1)}}}):alert("Please select atleast one module")):alert("Please select an action")})),l.addEventListener("click",(function(t){const a=document.querySelector("#wts_eae_gmap_key").value,n=this;n.classList.add("loading"),e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_save_config",config:{wts_eae_gmap_key:a}},success:function(e){n.classList.remove("loading")}})}))}()}));